{"version":3,"sources":["webpack:///./src/app/cart/cart.module.ts","webpack:///./src/app/cart/cart.page.html","webpack:///./src/app/cart/cart.page.scss","webpack:///./src/app/cart/cart.page.ts","webpack:///./src/app/service/cart.service.ts"],"names":[],"mappings":"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","file":"cart-cart-module~tabs-tabs-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CartPage } from './cart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CartPage]\n})\nexport class CartPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n    <ion-title>cart</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-list>\\n\\n    <ion-item  detail-none *ngFor=\\\"let product of cartList;let i = index\\\">\\n      <ion-label>\\n        <h2>{{product.name}}</h2>\\n        <p>\\n          {{product.price | currency:'INR'}} \\n          <ion-badge color=\\\"primary\\\">{{product.count}}</ion-badge>\\n        </p>\\n        <p>Amount {{product.count * product.price | currency:'INR'}}</p>\\n      </ion-label>\\n      <ion-button shape=\\\"round\\\" color=\\\"danger\\\" fill=\\\"outline\\\" item-end (click)=\\\"removeCart(i)\\\">Remove <ion-icon name=\\\"close\\\"></ion-icon></ion-button>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"!cartList\\\">\\n      <ion-label>\\n        <h2>Nothing is added in cart.</h2>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <ion-button *ngIf=\\\"cartList != 0\\\" expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"checkout()\\\">Checkout</ion-button>\\n</ion-content>\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport {CartService} from '../service/cart.service';\nimport { Router  , ActivatedRoute } from '@angular/router';\n\nimport { ToastController } from '@ionic/angular';\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.page.html',\n  styleUrls: ['./cart.page.scss'],\n})\nexport class CartPage implements OnInit {\n  cartList:any=[];\n  constructor(private cart:CartService, private toast:ToastController){\n    this.cartList = cart.getList()\n   }\n\n  ngOnInit() {\n  }\n\n  checkout(){\n    this.cart.buy().subscribe(\n      async value => {\n        let toast = await this.toast.create({\n          message: 'Items bought',\n          duration: 2000\n        });\n    \n        toast.present();\n        this.cartList=[];\n       //console.log(value);\n      },\n      err => {\n        console.log(err);\n      }\n    );\n    //this.cartList\n  }\n\n  async removeCart(index){\n    let toast = await this.toast.create({\n      message: 'Item removed',\n      duration: 2000\n    });\n\n    toast.present();\n    this.cartList==this.cart.remove(index);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Response } from '@angular/http';\nimport { HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  cartList:any = [];\n\n  constructor(public http: HttpClient) { }\n\n  add(product){\n    const foundItem = this.cartList.filter(function(item) {\n      return item.id === product.id;\n    })[0];\n\n    if(foundItem) {\n      product.count+=product.count;\n    }else {\n      product.count=1;\n      this.cartList.push(product);\n    }\n  }\n\n  getList(){\n    return this.cartList\n  }\n\n  remove(index){\n    this.cartList.splice( index, 1 );\n    return this.cartList;\n  }\n\n  buy(){\n    let rewards=0, total=0;\n    this.cartList.forEach((val, key) => {\n      let product = this.cartList[key];\n      rewards += (product.rewards * product.count);\n      total += (product.price * product.count);\n    });\n    \n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n\n    const item = this.cartList;\n    const date =  new Date();\n\n    let order = { item, total, rewards, date };\n\n    return this.http.post(\"http://192.168.1.102:3000/application/buy\", order, httpOptions).pipe(map((response: Response) => console.log(response) ));\n  }\n}\n"],"sourceRoot":""}