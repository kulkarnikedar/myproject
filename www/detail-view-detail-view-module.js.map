{"version":3,"sources":["webpack:///./src/app/detail-view/detail-view.module.ts","webpack:///./src/app/detail-view/detail-view.page.html","webpack:///./src/app/detail-view/detail-view.page.scss","webpack:///./src/app/detail-view/detail-view.page.ts","webpack:///./src/app/service/cart.service.ts","webpack:///./src/app/service/profile.service.ts"],"names":[],"mappings":"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","file":"detail-view-detail-view-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailViewPage } from './detail-view.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailViewPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [DetailViewPage]\n})\nexport class DetailViewPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n    <ion-title>detailView</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n        <ion-button (click)=\\\"goToCart()\\\">\\n            <ion-icon slot=\\\"icon-only\\\" name=\\\"md-cart\\\"></ion-icon>\\n          </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n    <ion-list>\\n        <ion-item  detail-none *ngFor=\\\"let product of productList\\\">\\n          <ion-label>\\n            <h2>{{product.name}} <ion-badge color=\\\"primary\\\">{{product.rewards}} <ion-icon name=\\\"cash\\\"></ion-icon></ion-badge></h2>\\n            <h3>I'm a big deal</h3>\\n            <p>{{product.price | currency:'INR'}}</p>\\n          </ion-label>\\n          <ion-button shape=\\\"round\\\" color=\\\"primary\\\" fill=\\\"outline\\\" item-end (click)=\\\"addCart(product)\\\">Add <ion-icon name=\\\"md-cart\\\"></ion-icon></ion-button>\\n        </ion-item>\\n        <ion-item  *ngIf=\\\"!productList\\\">\\n          <ion-label>\\n            <h2>Nothing to show</h2>\\n          </ion-label>\\n        </ion-item>\\n      </ion-list>\\n      <ion-button  size=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"share()\\\">SHARE</ion-button>\\n</ion-content>\\n\"","module.exports = \"h2 {\\n  text-transform: capitalize; }\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Router  , ActivatedRoute } from '@angular/router';\nimport {ProfileService} from '../service/profile.service';\nimport {CartService} from '../service/cart.service';\nimport { ToastController } from '@ionic/angular';\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\n\n\n\n@Component({\n  selector: 'app-detail-view',\n  templateUrl: './detail-view.page.html',\n  styleUrls: ['./detail-view.page.scss'],\n})\nexport class DetailViewPage implements OnInit {\n  productList:any;\n  constructor(private route: ActivatedRoute, private profile: ProfileService, private cart: CartService,\n    public toast: ToastController, private routes: Router,private sharing: SocialSharing) { \n    this.route.params.subscribe((parmas) => {console.log(parmas.id)});\n    this.profile.getShopList().subscribe(\n      value => {\n       this.productList = value;\n      },\n      err => {\n        console.log(err);\n      }\n    );\n  }\n\n  ngOnInit() {\n  }\n  \n  async addCart(product){\n    this.cart.add(product);\n    let toast = await this.toast.create({\n      message: 'Product Added in cart.',\n      duration: 2000\n    });\n\n    toast.present();\n    \n  }\n\n  goToCart(){\n    this.routes.navigate(['/cart/']);\n  }\n\n  async share(){\n    this.sharing.share('TechChallenge','2018','./assets/images/challenge.png').then(() => {\n      // Success!\n    }).catch(() => {\n      // Error!\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Response } from '@angular/http';\nimport { HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  cartList:any = [];\n\n  constructor(public http: HttpClient) { }\n\n  add(product){\n    const foundItem = this.cartList.filter(function(item) {\n      return item.id === product.id;\n    })[0];\n\n    if(foundItem) {\n      product.count+=product.count;\n    }else {\n      product.count=1;\n      this.cartList.push(product);\n    }\n  }\n\n  getList(){\n    return this.cartList\n  }\n\n  remove(index){\n    this.cartList.splice( index, 1 );\n    return this.cartList;\n  }\n\n  buy(){\n    let rewards=0, total=0;\n    this.cartList.forEach((val, key) => {\n      let product = this.cartList[key];\n      rewards += (product.rewards * product.count);\n      total += (product.price * product.count);\n    });\n    \n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n\n    const item = this.cartList;\n    const date =  new Date();\n\n    let order = { item, total, rewards, date };\n\n    return this.http.post(\"http://192.168.1.102:3000/application/buy\", order, httpOptions).pipe(map((response: Response) => console.log(response) ));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Http, Response, Headers, RequestOptions } from '@angular/http';\nimport { HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Storage } from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProfileService {\n\n  constructor(public http: HttpClient,public storage: Storage) {\n  }\n\n  getProfile():  Observable<any>{\n    console.log('get profile')\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n\n    return this.http.post(\"http://192.168.1.102:3000/application/profile\", httpOptions).pipe(map((response: Response) => response ));\n  }\n\n  getShop(lat,lng):  Observable<any>{\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n    let location = {lat,lng};\n\n    return this.http.post(\"http://192.168.1.102:3000/application/shopnear\", location, httpOptions).pipe(map((response: Response) => response ));\n  }\n\n  getShopAll():  Observable<any>{\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n    return this.http.post(\"http://192.168.1.102:3000/application/shop\", httpOptions).pipe(map((response: Response) => response ));\n  }\n  getShopList():  Observable<any>{\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n    return this.http.post(\"http://192.168.1.102:3000/application/shoplist\", httpOptions).pipe(map((response: Response) => response ));\n  }\n\n  purchaseHistory():  Observable<any>{\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n    return this.http.post(\"http://192.168.1.102:3000/application/purchaseHistory\", httpOptions).pipe(map((response: Response) => response ));\n  }\n\n  order(id):  Observable<any>{\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n    return this.http.post(\"http://192.168.1.102:3000/application/viewOrder\", { id }, httpOptions).pipe(map((response: Response) => response ));\n  }\n\n}\n"],"sourceRoot":""}